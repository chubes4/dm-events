/* Circuit Grid Display Styles */

/* Border Overlay SVG */
.datamachine-border-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: visible;
}

/* Day Border Colors */
.datamachine-border-sunday,
.datamachine-border-group-sunday { stroke: var(--datamachine-day-sunday); }
.datamachine-border-monday,
.datamachine-border-group-monday { stroke: var(--datamachine-day-monday); }
.datamachine-border-tuesday,
.datamachine-border-group-tuesday { stroke: var(--datamachine-day-tuesday); }
.datamachine-border-wednesday,
.datamachine-border-group-wednesday { stroke: var(--datamachine-day-wednesday); }
.datamachine-border-thursday,
.datamachine-border-group-thursday { stroke: var(--datamachine-day-thursday); }
.datamachine-border-friday,
.datamachine-border-group-friday { stroke: var(--datamachine-day-friday); }
.datamachine-border-saturday,
.datamachine-border-group-saturday { stroke: var(--datamachine-day-saturday); }

/* Circuit Grid Layout */
.datamachine-events-calendar.datamachine-events-date-grouped .datamachine-events-content {
    position: relative;
    display: grid;
    grid-template-columns: repeat(auto-fill, var(--datamachine-grid-cell-width));
    grid-auto-rows: var(--datamachine-grid-cell-height);
    gap: var(--datamachine-grid-gap);
    justify-content: center;
    z-index: 2;
}

/* Date Group Containers - Make invisible to grid layout */
.datamachine-date-group {
    display: contents; /* Makes wrapper invisible to CSS Grid layout */
}

/* Events Wrapper - Also make invisible to allow direct event item grid participation */
.datamachine-events-wrapper {
    display: contents; /* Makes events wrapper invisible to CSS Grid layout */
}

/* Circuit Grid Badge Positioning */
.datamachine-day-badge {
    position: absolute;
    top: 0;
    left: 0;
    z-index: var(--datamachine-badge-z-index);
    opacity: 0;
    transform: translateY(-50%);
    pointer-events: none;
}

.datamachine-day-badge.positioned {
    opacity: 1;
}

/* Default Date Group Styling */
.datamachine-date-group {
    border-color: var(--datamachine-border-default);
}

/* Day-specific Date Group Border Colors */
.datamachine-date-group.datamachine-day-sunday {
    border-color: var(--datamachine-day-sunday);
}

.datamachine-date-group.datamachine-day-monday {
    border-color: var(--datamachine-day-monday);
}

.datamachine-date-group.datamachine-day-tuesday {
    border-color: var(--datamachine-day-tuesday);
}

.datamachine-date-group.datamachine-day-wednesday {
    border-color: var(--datamachine-day-wednesday);
}

.datamachine-date-group.datamachine-day-thursday {
    border-color: var(--datamachine-day-thursday);
}

.datamachine-date-group.datamachine-day-friday {
    border-color: var(--datamachine-day-friday);
}

.datamachine-date-group.datamachine-day-saturday {
    border-color: var(--datamachine-day-saturday);
}



/* Circuit Grid Hover States - Override universal styles for grid-specific effects */
.datamachine-events-content .datamachine-event-item:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: var(--datamachine-card-hover-border);
    box-shadow: var(--datamachine-card-hover-shadow);
    transform: translateY(-1px);
}

/* Circuit Grid SVG Border Styling */
.datamachine-border-overlay path {
    stroke-width: 3.25px;
    stroke-dasharray: none;
}

/* Hidden Date Groups */
.datamachine-date-group.hidden {
    display: none;
}

/* Responsive Circuit Grid */
@media (min-width: 1200px) {
    .datamachine-events-calendar.datamachine-events-date-grouped .datamachine-events-content {
        grid-template-columns: repeat(auto-fill, var(--datamachine-grid-cell-width));
        grid-auto-rows: var(--datamachine-grid-cell-height);
        gap: var(--datamachine-grid-gap);
    }
}

@media (max-width: 768px) {
    .datamachine-events-calendar.datamachine-events-date-grouped .datamachine-events-content {
        grid-template-columns: 1fr;
        grid-auto-rows: var(--datamachine-grid-cell-height-mobile);
        gap: var(--datamachine-grid-gap);
    }
    
    .datamachine-date-group {
        padding: 0;
    }
}

/* Pagination safeguard: ensure pagination spans full grid when rendered inside grid */
.datamachine-events-content > .datamachine-events-pagination,
.datamachine-events-content > .datamachine-events-results-counter {
    grid-column: 1 / -1;
    justify-self: center;
    align-self: end;
    width: 100%;
    margin-top: 2rem;
    display: block;
    text-align: center;
}